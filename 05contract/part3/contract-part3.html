<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../../photos/logo/favicon.ico"  type="image/x-icon">
    <title>Schedule C</title>
<style>

.page {
  display: flex;
  width: 880px;
  /* height: 2200px; */
  background-color: #ffffff;
  margin: auto;
  padding-bottom: 60px;
  margin-top:40px;
  margin-bottom:40px
}

.contract {
  margin: 0 auto;
  width: 740px;
}

.task-box {
  margin-bottom: 40px;
}

.item-list {
  display: flex;
  flex-wrap: wrap;
}

.item {
  display: flex;
  padding-left: 5px;
  align-items: center;
  margin-bottom: -1px;
  margin-left: -1px;
  font-size: 12px;
  border: 1px solid grey;
  width: 160px;
  height: 30px;
  /* flex-wrap: wrap; */
}

.item .icon {
  margin-left: 1px;
  font-size: 15px;
}

.header {
  padding-top: 40px;
  margin-bottom: 20px;
  font-size: 15px;
  text-align: center;
  font-weight:bold;
}

.subTitleText {
  font-size: 14px;
  font-weight: bold;
  padding-top: 20px;
}

.bodyText {
  font-size: 13px;
}

.roomText {
  font-size: 12px;
}

/* .roomBox {
  padding-left: 20px;
} */

.underlineTitleText {
  font-size: 14px;
  text-decoration: underline;
}

body {
  font-family: "Roboto", sans-serif;
  background: #f7f8f5;
}

 .itemTableHead {
  display: flex;
}  


.itemSubtaskHead {
  display: flex;
  border: 1px solid black;
  font-size: 14px;
  width: 100px;
  padding-left: 5px;
  margin-top: -1px;
  margin-top: -1px;
  align-items: center;
  justify-content: center; 
}

.itemNameHead {
  display: flex;
  border: 1px solid black;
  font-size: 14px;
  width: 400px;
  padding-left: 5px;
  margin-left: -1px;
  margin-top: -1px;
  align-items: center;
  justify-content: center; 
}

.itemCodeHead {
  display: flex;
  border: 1px solid black;
  font-size: 14px;
  width: 100px;
  padding-left: 5px;
  margin-left: -1px;
  margin-top: -1px;
  align-items: center;
  justify-content: center; 
}

.itemImageHead {
  display: flex;
  border: 1px solid black;
  width: 100px;
  margin-top: -1px;
  margin-left: -1px;
  align-items: center;
  justify-content: center; 
}


.itemTable {
  display: flex;
}

.itemSubtask {
  display: flex;
  border: 1px solid black;
  font-size: 14px;
  height:60px;
  width: 100px;
  padding-left: 5px;
  margin-top: -1px;
  align-items: center;
}

.itemName {
  display: flex;
  border: 1px solid black;
  font-size: 14px;
  height:60px;
  width: 400px;
  padding-left: 5px;
  margin-left: -1px;
  margin-top: -1px;
  align-items: center;
}

.itemCode {
  display: flex;
  border: 1px solid black;
  font-size: 14px;
  height:60px;
  width: 100px;
  padding-left: 5px;
  margin-left: -1px;
  margin-top: -1px;

  align-items: center;
}

.itemImage {
  display: flex;
  justify-content: center; 
  border: 1px solid black;
  height: 60px;
  width: 100px;
  margin-top: -1px;
  margin-left: -1px;
}

.imgItems {
            height: 60px;
        } 


</style>

</head>

<body>

  <div class="page">
        <div class="contract">
            <div class="header">SCHEDULE C<br><a href="#" id="completeLink" style="color: inherit; text-decoration: none;">MATERIAL LIST</a></div>

        <div class="task-box-area">

              <div class="taskBox" id="task-kitchen-box">
                <p class="subTitleText">Task Kitchen:</p>
                <p class="bodyText">Material to be provided by ontractor in kitchen:</p>

                <div class="kitchenBox RoomBox">
                    <p class="underlineTitleText">Kitchen:</p>
                    <div class="kitchenItemList">

                      <div class="itemTableHead">
                        <div class="itemSubtaskHead">ITEM</div>
                        <div class="itemNameHead">NAME/DETAIL</div>
                        <div class="itemCodeHead">CODE</div>
                        <div class="itemImageHead">IMAGE</div>
                      </div>

                    </div>
                </div>
        
              </div>

              <div class="taskBox" id="task-ensuiteBath-box">
                <p class="subTitleText">Task Ensuite Bathroom:</p>
                <p class="bodyText">Material to be provided by ontractor in ensuite bathroom:</p>

                <div class="ensuiteBathBox RoomBox">
                    <p class="underlineTitleText">Ensuite Bathroom:</p>
                    <div class="ensuiteBathItemList">

                      <div class="itemTableHead">
                        <div class="itemSubtaskHead">ITEM</div>
                        <div class="itemNameHead">NAME/DETAIL</div>
                        <div class="itemCodeHead">CODE</div>
                        <div class="itemImageHead">IMAGE</div>
                      </div>

                    </div>
                </div>
        
              </div>


              <div class="taskBox" id="task-mainBath-box">
                <p class="subTitleText">Task Main Bathroom:</p>
                <p class="bodyText">Material to be provided by ontractor in main bathroom:</p>

                <div class="mainBathBox RoomBox">
                    <p class="underlineTitleText">Main Bathroom:</p>
                    <div class="mainBathItemList">

                      <div class="itemTableHead">
                        <div class="itemSubtaskHead">ITEM</div>
                        <div class="itemNameHead">NAME/DETAIL</div>
                        <div class="itemCodeHead">CODE</div>
                        <div class="itemImageHead">IMAGE</div>
                      </div>

                    </div>
                </div>
        
              </div>

              <div class="taskBox" id="task-powderBath-box">
                <p class="subTitleText">Task Powder Room:</p>
                <p class="bodyText">Material to be provided by ontractor in powder room:</p>

                <div class="powderBathBox RoomBox">
                    <p class="underlineTitleText">Powder Room:</p>
                    <div class="powderBathItemList">

                      <div class="itemTableHead">
                        <div class="itemSubtaskHead">ITEM</div>
                        <div class="itemNameHead">NAME/DETAIL</div>
                        <div class="itemCodeHead">CODE</div>
                        <div class="itemImageHead">IMAGE</div>
                      </div>

                    </div>
                </div>
        
              </div>

              <div class="taskBox" id="task-floor-box">
                <p class="subTitleText">Task Flooring:</p>
                <p class="bodyText">Material to be provided by ontractor in Areas:</p>

                <div class="floorAreaBox1 AreaBox">
                    <p class="underlineTitleText">Area1:</p>
                    <div class="floorArea1ItemList">

                      <div class="itemTableHead">
                        <div class="itemSubtaskHead">ITEM</div>
                        <div class="itemNameHead">NAME/DETAIL</div>
                        <div class="itemCodeHead">CODE</div>
                        <div class="itemImageHead">IMAGE</div>
                      </div>

                    </div>
                </div>

                <div class="floorAreaBox2 AreaBox">
                  <p class="underlineTitleText">Area2:</p>
                  <div class="floorArea2ItemList">

                    <div class="itemTableHead">
                      <div class="itemSubtaskHead">ITEM</div>
                      <div class="itemNameHead">NAME/DETAIL</div>
                      <div class="itemCodeHead">CODE</div>
                      <div class="itemImageHead">IMAGE</div>
                    </div>

                  </div>
              </div>

              <div class="floorAreaBox3 AreaBox">
                <p class="underlineTitleText">Area3:</p>
                <div class="floorArea3ItemList">

                  <div class="itemTableHead">
                    <div class="itemSubtaskHead">ITEM</div>
                    <div class="itemNameHead">NAME/DETAIL</div>
                    <div class="itemCodeHead">CODE</div>
                    <div class="itemImageHead">IMAGE</div>
                  </div>

                </div>
            </div>
        
              </div>

        </div>
        
    </div>

    <br><br><br><br>

    <script>

    //  function appendItemsToTable(data, container) {
    //       data.forEach(item => {
    //           const row = document.createElement('div');
    //           row.className = 'itemTable';
    //           row.innerHTML = `
    //               <div class="itemSubtask">${item.itemLabel || "Not specified"}</div>
    //               <div class="itemName">${item.itemName || "Not specified"}</div>
    //               <div class="itemCode">${item.itemCode || "Not specified"}</div>
    //               <div class="itemImage"><img src="${item.itemImage}" alt="${item.itemName}" style="height: 60px;"></div>
    //           `;
    //           container.appendChild(row);
    //       });
    //    }
      

    function appendItemsToTable(data, container) {
          if (!container) {
              console.log("Error: Container not found");
              return;
          }

          console.log(`Appending items to table... Data length: ${data.length}`);
          data.forEach(item => {
              console.log("Appending item:", item);
              const row = document.createElement('div');
              row.className = 'itemTable';
              row.innerHTML = `
                  <div class="itemSubtask">${item.itemLabel || "Not specified"}</div>
                  <div class="itemName">${item.itemName || "Not specified"}</div>
                  <div class="itemCode">${item.itemCode || "Not specified"}</div>
                  <div class="itemImage"><img src="${item.itemImage}" alt="${item.itemName}" style="height: 60px;"></div>
              `;
              container.appendChild(row);
          });

          if (data.length === 0) {
              console.log("No data to append.");
          }
      }



      window.onload = function() {

          console.log("Window loaded. Beginning to fetch data...");

          const kitchenData = JSON.parse(localStorage.getItem('kitchenData')) || [];
          console.log("Kitchen Data:", kitchenData);

          const ensuiteBathData = JSON.parse(localStorage.getItem('ensuiteBathData')) || [];
          const mainBathData = JSON.parse(localStorage.getItem('mainBathData')) || [];
          const powderBathData = JSON.parse(localStorage.getItem('powderBathData')) || [];
          const floorArea1Data = JSON.parse(localStorage.getItem('floorArea1Data')) || [];
          console.log("Floor Area 1 Data:", floorArea1Data);

          const floorArea2Data = JSON.parse(localStorage.getItem('floorArea2Data')) || [];
          const floorArea3Data = JSON.parse(localStorage.getItem('floorArea3Data')) || [];

          const kitchenContainer = document.querySelector('#task-kitchen-box .kitchenItemList');
          console.log("kitchenContainer:", kitchenContainer);

          const ensuiteBathContainer = document.querySelector('#task-ensuiteBath-box .ensuiteBathItemList');
          console.log("ensuiteBathContainer:", ensuiteBathContainer);

          const mainBathContainer = document.querySelector('#task-mainBath-box .mainBathItemList');
          console.log("mainBathContainer:", mainBathContainer);

          const powderBathContainer = document.querySelector('#task-powderBath-box .powderBathItemList');
          console.log("powderBathContainer:", powderBathContainer);

          const floorArea1Container = document.querySelector('#task-floorArea1-box .floorArea1ItemList');
          console.log("Floor Area 1 Container:", floorArea1Container);

          const floorArea2Container = document.querySelector('#task-floorArea2-box .floorArea2ItemList');
          const floorArea3Container = document.querySelector('#task-floorArea3-box .floorArea3ItemList');

          appendItemsToTable(kitchenData, kitchenContainer);
          appendItemsToTable(ensuiteBathData, ensuiteBathContainer);
          appendItemsToTable(mainBathData, mainBathContainer);
          appendItemsToTable(powderBathData, powderBathContainer);
          appendItemsToTable(floorArea1Data, floorArea2Container);
          appendItemsToTable(floorArea2Data, floorArea2Container);
          appendItemsToTable(floorArea3Data, floorArea3Container);

          const kitchenBox = document.querySelector('#task-kitchen-box');
          if (kitchenData.length === 0 && kitchenBox) {
              kitchenBox.style.display = 'none';
          }

          const ensuiteBathBox = document.querySelector('#task-ensuiteBath-box');
          if (ensuiteBathData.length === 0 && ensuiteBathBox) {
              ensuiteBathBox.style.display = 'none';
          }

          const mainBathBox = document.querySelector('#task-mainBath-box');
          if (mainBathData.length === 0 && mainBathBox) {
              mainBathBox.style.display = 'none';
          }

          const powderBathBox = document.querySelector('#task-powderBath-box');
          if (powderBathData.length === 0 && powderBathBox) {
              powderBathBox.style.display = 'none';
          }
      }



      </script>
      

</body>

</html>
