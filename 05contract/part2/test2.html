<!DOCTYPE html>
<html>

<head>
    <title>Create Contract Part2</title>
    <style>
        #kitchenDemolishItem,
        #ensuiteBathroomDmItem,
        #mainBathroomDmItem {
            display: none;
            border: 1px solid white;
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
        }

        label {
            margin-right: 15px;
            margin-bottom: 10px;
        }

        .nav {
            display: inline-flex;
            align-items: center;
            background: white;
            height: 60px;
            width: 100%;
            padding-left: 20px;
        }

        .contentArea {
            padding-top: 20px;
            width: 940px;
            background-color: white;
            margin: auto;
            border-radius: 1%;
        }

        body {
            font-family: "Roboto", sans-serif;
            background: #f7f8f5;
        }

        .head {
            height: 20px;
            background-color: #f7f8f5;
            margin: auto;
        }

        .headerText {
            padding-left: 30px;
            cursor: pointer;
        }
    </style>
    <script>
        const kitchenDmItem = [
            "Cabinetry",
            "Countertop",
            "Backsplash",
            "Faucet",
            "Sink",
            "Vinyl Floor",
            "Laminate Floor",
            "Floor Tile",
            "Baseboard",
            "Valance light",
            "Ceiling light",
            "Partition wall",
            "Kitchen door with frame",
            "Dining door with frame"
        ];

        const ensuiteBathDmItem = [
            "Vanity",
            "Vanity sink",
            "Vanity faucet",
            "Vanity mirror",
            "Vanity light",
            "Toilet",
            "Bathtub",
            "Tub filler",
            "Shower faucet",
            "Shower base",
            "Wall tile",
            "Floor tile",
            "Baseboard",
            "Medicine cabinet",
            "Wall cabinet",
            "Towel bar",
            "Toilet Paper holder",
            "Soap dish"
        ];

        const mainBathDmItem = [
            "Vanity",
            "Vanity sink",
            "Vanity faucet",
            "Vanity mirror",
            "Vanity light",
            "Toilet",
            "Bathtub",
            "Tub filler",
            "Shower faucet",
            "Shower base",
            "Wall tile",
            "Floor tile",
            "Baseboard",
            "Medicine cabinet",
            "Wall cabinet",
            "Towel bar",
            "Toilet Paper holder",
            "Soap dish"
        ];


        function getPart2() {
            console.log('getPart2 function called');

            const kitchenItems = [];
            const ensuiteItems = [];
            const mainItems = [];

            console.log('Checking kitchen checkboxes');
            document.querySelectorAll("#kitchenDemolishItem input[type='checkbox']:checked").forEach(checkbox => {
                console.log('Selected kitchen item:', checkbox.value);
                kitchenItems.push(checkbox.value);
            });

            console.log('Checking ensuite bathroom checkboxes');
            document.querySelectorAll("#ensuiteBathroomDmItem input[type='checkbox']:checked").forEach(checkbox => {
                console.log('Selected ensuite item:', checkbox.value);
                ensuiteItems.push(checkbox.value);
            });

            console.log('Checking main bathroom checkboxes');
            document.querySelectorAll("#mainBathroomDmItem input[type='checkbox']:checked").forEach(checkbox => {
                console.log('Selected main item:', checkbox.value);
                mainItems.push(checkbox.value);
            });

            const urlParams = new URLSearchParams();
            console.log('Building URL parameters');
            kitchenItems.forEach(item => {
                urlParams.append("kitchenItem", item);
            });
            ensuiteItems.forEach(item => {
                urlParams.append("ensuiteItem", item);
            });
            mainItems.forEach(item => {
                urlParams.append("mainItem", item);
            });

            console.log('URL parameters:', urlParams.toString());

            console.log('Opening newPage.html with URL parameters');
            window.open(`newPage.html?${urlParams.toString()}`, '_blank');
        }

function onKitchenDmCheckboxChange(event) {
    const kitchenDmItemDiv = document.getElementById("kitchenDemolishItem");
    console.log('Kitchen checkbox changed:', event.target.checked);

    if (event.target.checked) {
        kitchenDmItemDiv.style.display = "block";
        createDmItemCheckboxes(kitchenDmItemDiv, kitchenDmItem, "kitchenDmItem");
    } else {
        kitchenDmItemDiv.style.display = "none";
        kitchenDmItemDiv.innerHTML = "";
    }
}

function onEnsuiteBathDmCheckboxChange(event) {
    const ensuiteBathDmItemDiv = document.getElementById("ensuiteBathroomDmItem");
    console.log('Ensuite checkbox changed:', event.target.checked);

    if (event.target.checked) {
        ensuiteBathDmItemDiv.style.display = "block";
        createDmItemCheckboxes(ensuiteBathDmItemDiv, ensuiteBathDmItem, "ensuiteBathDmItem");
    } else {
        ensuiteBathDmItemDiv.style.display = "none";
        ensuiteBathDmItemDiv.innerHTML = "";
    }
}

function onMainBathDmCheckboxChange(event) {
    const mainBathDmItemDiv = document.getElementById("mainBathroomDmItem");
    console.log('Main bathroom checkbox changed:', event.target.checked);

    if (event.target.checked) {
        mainBathDmItemDiv.style.display = "block";
        createDmItemCheckboxes(mainBathDmItemDiv, mainBathDmItem, "mainBathDmItem");
    } else {
        mainBathDmItemDiv.style.display = "none";
        mainBathDmItemDiv.innerHTML = "";
    }
}

function createDmItemCheckboxes(container, itemArray, name) {
    console.log('Creating checkboxes for', name);

    container.innerHTML = "";

    itemArray.forEach(item => {
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.id = `${name}_${item}`;
        checkbox.name = name;
        checkbox.value = item;

        const label = document.createElement("label");
        label.htmlFor = checkbox.id;
        label.textContent = item;

        container.appendChild(checkbox);
        container.appendChild(label);

        console.log('Added checkbox for', item, 'to', name);
    });
}

    </script>
</head>

<body>
    <div class="nav">
        <img class="headerText" src="../../photos/logo/logo.png">
        <div class="headerText">About Us</div>
        <div class="headerText">Gallery</div>
        <div class="headerText">Contact Us</div>
        <div class="headerText" onclick="openWorkstation()">WorkStation</div>
    </div>

    <div class="head"></div>

    <div class="contentArea">
        <h1>Create Schedule A(work to be completed)</h1>

        <div>Demolish Itmes:</div>

        <div>
            <input type="checkbox" id="kitchenCheckbox" onchange="onKitchenDmCheckboxChange(event)">
            <label for="kitchenCheckbox">kitchen</label>
        </div>
        <div id="kitchenDemolishItem"></div>

        <div>
            <input type="checkbox" id="ensuiteBathroomCheckbox" onchange="onEnsuiteBathDmCheckboxChange(event)">
            <label for="ensuiteBathroomCheckbox">Ensuite Bathroom</label>
        </div>
        <div id="ensuiteBathroomDmItem"></div>

        <div>
            <input type="checkbox" id="mainBathroomCheckbox" onchange="onMainBathDmCheckboxChange(event)">
            <label for="mainBathroomCheckbox">Main Bathroom</label>
        </div>
        <div id="mainBathroomDmItem"></div>

        <div>
            <button type="button" onclick="getPart2()">Get</button>
        </div>
    </div>
</body>

</html>
