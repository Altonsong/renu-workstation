<!DOCTYPE html>
<html>

<head>
    <title>Selected Items</title>
    <style>
        .content {
            width: 940px;
            margin: auto;
            padding: 20px;
            background-color: white;
            border-radius: 1%;
        }

        .item-list {
            padding: 10px;
            border: 1px solid #ccc;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

        .item .icon {
            margin-left: 10px;
        }

        .header {
            margin-bottom: 20px;
            font-size: 24px;
        }

        body {
            font-family: "Roboto", sans-serif;
            background: #f7f8f5;
        }
    </style>
</head>

<body>
    <div class="content">
        <div class="header">Selected Demolish Items</div>

        <div id="kitchenDemolishItems" class="item-list">
            <h3>Kitchen Demolish Items:</h3>
        </div>

        <div id="ensuiteBathroomDemolishItems" class="item-list">
            <h3>Ensuite Bathroom Demolish Items:</h3>
        </div>

        <div id="mainBathroomDemolishItems" class="item-list">
            <h3>Main Bathroom Demolish Items:</h3>
        </div>
    </div>

    <script>
        // function displaySelectedItems() {
        //     const params = new URLSearchParams(window.location.search);
        //     const selectedItems = params.getAll('item');

        //     const kitchenDiv = document.getElementById('kitchenDemolishItems');
        //     const ensuiteDiv = document.getElementById('ensuiteBathroomDemolishItems');
        //     const mainDiv = document.getElementById('mainBathroomDemolishItems');

        //     selectedItems.forEach(item => {
        //         const itemElement = document.createElement('div');
        //         itemElement.className = 'item';

        //         const text = document.createElement('span');
        //         text.textContent = item;

        //         const icon = document.createElement('span');
        //         icon.className = 'material-symbols-outlined icon';
        //         icon.textContent = 'done';

        //         itemElement.appendChild(text);
        //         itemElement.appendChild(icon);

        //         if (kitchenDiv.innerHTML.includes(item)) {
        //             kitchenDiv.appendChild(itemElement);
        //         } else if (ensuiteDiv.innerHTML.includes(item)) {
        //             ensuiteDiv.appendChild(itemElement);
        //         } else if (mainDiv.innerHTML.includes(item)) {
        //             mainDiv.appendChild(itemElement);
        //         }
        //     });
        // }

        // displaySelectedItems();
        function displaySelectedItems() {
    console.log('Function displaySelectedItems is called');

    // 从 URL 参数获取选中的项
    const params = new URLSearchParams(window.location.search);
    const selectedItems = params.getAll('item');
    console.log('Selected items:', selectedItems);

    // 获取对应的分区元素
    const kitchenDiv = document.getElementById('kitchenDemolishItems');
    const ensuiteDiv = document.getElementById('ensuiteBathroomDemolishItems');
    const mainDiv = document.getElementById('mainBathroomDemolishItems');

    // 遍历选中的项
    selectedItems.forEach(item => {
        console.log('Processing item:', item);

        // 创建元素来显示每个项目
        const itemElement = document.createElement('div');
        itemElement.className = 'item';

        const text = document.createElement('span');
        text.textContent = item;

        const icon = document.createElement('span');
        icon.className = 'material-symbols-outlined icon';
        icon.textContent = 'done';

        itemElement.appendChild(text);
        itemElement.appendChild(icon);

        // 检查项目所属的分区
        if (kitchenDmItem.includes(item)) {
            console.log('Adding item to kitchenDemolishItems');
            kitchenDiv.appendChild(itemElement);
        } else if (ensuiteBathDmItem.includes(item)) {
            console.log('Adding item to ensuiteBathroomDemolishItems');
            ensuiteDiv.appendChild(itemElement);
        } else if (mainBathDmItem.includes(item)) {
            console.log('Adding item to mainBathroomDemolishItems');
            mainDiv.appendChild(itemElement);
        } else {
            console.log('Item does not belong to any known category');
        }
    });

    console.log('Function displaySelectedItems execution completed');
}

// 在页面加载时执行函数
window.onload = displaySelectedItems;


    </script>
</body>

</html>
