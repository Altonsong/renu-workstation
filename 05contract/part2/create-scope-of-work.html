<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Scope of Work</title>

  <style>
    .hidden {
      display: none;
    }
  </style>

</head>

<body>

  <div>
    <p>Room Select</p>
    <div>
      <input type="checkbox" id="rm-kitchen" onclick="toggleRoom('rm-kitchen', 'dm-kitchen')"><label for="rm-kitchen">Kitchen</label>
      <input type="checkbox" id="rm-bath1" onclick="toggleRoom('rm-bath1', 'dm-bath1')"><label for="rm-bath1">Ensuite Bathroom</label>


    </div>
  </div>

  <div>
    <br><br><br>

    <p>Task - Demolish</p>

    <div class="dm-checkbox dm-kitchen hidden">
      <input type="checkbox" id="dm-kitchen" onclick="toggleRoom('dm-kitchen', 'dm-kitchen-area')"><label for="dm-kitchen">Kitchen</label>
    </div>

    <div class="dm-checkbox dm-bath1 hidden">
      <input type="checkbox" id="dm-bath1"><label for="dm-bath1">Ensuite Bathroom</label>
    </div>


    <div class="dm-kitchen-area  hidden">

      <div class="kitchen-item-list-area">
        <br><br><br>
        kitchen Item List:
        <input type="checkbox" id="kitchenItemCabinetry" onclick="toggleRoom( 'kitchenItemCabinetry','kitchen-dm-work-cabinetry' )"><label for="kitchenItemCabinetry">Cabinetry</label>
        <input type="checkbox" id="kitchenItemCountertop" onclick="toggleRoom( 'kitchenItemCountertop','kitchen-dm-work-countertop')"><label for="kitchenItemCountertop">Countertop</label>
        <input type="checkbox" id="kitchenItemBacksplash" onclick="toggleRoom( 'kitchenItemBacksplash','kitchen-dm-work-backsplash')"><label for="kitchenItemBacksplash">Backsplash</label>
        <input type="checkbox" id="kitchenItemSink" onclick="toggleRoom( 'kitchenItemSink','kitchen-dm-work-sink')"><label for="kitchenItemSink">Kitchen Sink</label>
        <input type="checkbox" id="kitchenItemFaucet" onclick="toggleRoom( 'kitchenItemFaucet','kitchen-dm-work-faucet')"><label for="kitchenItemFaucet">Kitchen Faucet</label>
        <input type="checkbox" id="kitchenItemFloor" onclick="toggleRoom( 'kitchenItemFloor','kitchen-dm-work-floor')"><label for="kitchenItemFloor">Floor</label>
        <input type="checkbox" id="kitchenItemBaseboard" onclick="toggleRoom( 'kitchenItemBaseboard','kitchen-dm-work-baseboard')"><label for="kitchenItemBaseboard">Baseboard</label>

      </div>

      <br><br><br>

      <div class="kitchen-demolish-area">
        Demolish Item(Clicked)
        <div class="kitchen-dm-work-cabinetry hidden">
          <label for="kitchenItemCabinetry">Cabinetry</label><input type="checkbox" id="kitchenDmCabinetry"><input type="text"/>
        </div>

        <div class="kitchen-dm-work-countertop hidden">
          <label for="kitchenItemCountertop">Countertop</label><input type="checkbox" id="kitchenDmCountertop"><input type="text"/>
        </div>

        <div class="kitchen-dm-work-backsplash hidden">
          <label for="kitchenItemBacksplash">Backsplash</label><input type="checkbox" id="kitchenDmBacksplash"><input type="text"/>
        </div>

        <div class="kitchen-dm-work-sink hidden">
          <label for="kitchenItemSink">Kitchen Sink</label><input type="checkbox" id="kitchenDmSink"><input type="text"/>
        </div>

        <div class="kitchen-dm-work-faucet hidden">
          <label for="kitchenItemFaucet">Kitchen Faucet</label><input type="checkbox" id="kitchenDmFaucet"><input type="text"/>
        </div>

        <div class="kitchen-dm-work-floor hidden">
          <label for="kitchenItemFloor">Floor</label><input type="checkbox" id="kitchenDmFloor"><input type="text"/>
        </div>

        <div class="kitchen-dm-work-baseboard hidden">
          <label for="kitchenItemBaseboard">Baseboard</label><input type="checkbox" id="kitchenDmBaseboard"><input type="text"/>
        </div>

      </div>

    </div>

  </div>

  <button id="getButton">Get Schedule</button>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      let getButton = document.getElementById('getButton');

      getButton.addEventListener('click', function() {

        let urlParams = new URLSearchParams();

        let kitchenItemCabinetry = document.getElementById('kitchenItemCabinetry');
        let kitchenItemCountertop = document.getElementById('kitchenItemCountertop');



        

        if (kitchenItemCabinetry.checked) {
          urlParams.append('k-i-cabinetry', 'true');
        } else {
          urlParams.append('k-i-cabinetry', 'false');
        }




        let url = 'scope-of-work.html' + '?' + urlParams.toString();

        let newWindow = window.open(url, '_blank');

      }); 

    });

    function toggleRoom(checkboxId, areaId) {
      let checkbox = document.getElementById(checkboxId);
      let area = document.querySelector(`.${areaId}`);

      if (checkbox.checked) {
        area.classList.remove('hidden');
        console.log(`${areaId} shown.`);
      } else {
        area.classList.add('hidden');
        console.log(`${areaId} hidden.`);
      }
    }
  </script>

</body>

</html>
